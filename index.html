<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Archipelago of Secrets | Island & Ocean</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Quicksand:wght@300;500&family=Playfair+Display:ital,wght@1,400&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --sky: #87CEEB;
            --sea-surface: #1e90ff;
            --sea-deep: #00008b;
            --sand: #f2d2a9;
            --gold: #d4af37;
        }

        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            font-family: 'Quicksand', sans-serif; overflow: hidden;
            background: var(--sky);
        }

        /* --- NAVIGATION --- */
        nav {
            position: fixed; top: 20px; left: 50%; transform: translateX(-50%);
            display: flex; gap: 20px; z-index: 100;
        }
        .nav-btn {
            background: rgba(255,255,255,0.2); backdrop-filter: blur(10px);
            border: 2px solid white; padding: 10px 20px; border-radius: 50px;
            color: white; cursor: pointer; font-weight: bold; transition: 0.3s;
        }
        .nav-btn.active { background: var(--gold); color: black; border-color: var(--gold); }

        /* --- VIEWPORT CONTAINER --- */
        #main-stage {
            width: 100%; height: 200vh; /* 100vh Pulau, 100vh Laut */
            transition: transform 1.2s cubic-bezier(0.65, 0, 0.35, 1);
        }

        /* --- SECTION 1: PULAU (THE ISLAND) --- */
        #island-view {
            height: 100vh; background: linear-gradient(to bottom, #87CEEB, #E0F6FF);
            position: relative; overflow: hidden; display: flex; justify-content: center;
        }

        .island-sand {
            position: absolute; bottom: 0; width: 120%; height: 30vh;
            background: var(--sand); border-radius: 50% 50% 0 0;
            box-shadow: inset 0 20px 50px rgba(0,0,0,0.1);
        }

        .character {
            position: absolute; bottom: 20vh; left: -100px;
            width: 80px; height: 120px; background: #333; /* Placeholder Orang */
            border-radius: 20px; transition: 1s; z-index: 10;
        }

        .paper-ui {
            position: absolute; top: 20%; background: white; padding: 30px;
            border-radius: 5px; box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            width: 80%; max-width: 300px; text-align: center;
            transform: translateY(0); transition: 0.5s;
        }

        textarea {
            width: 100%; border: none; border-bottom: 1px solid #ccc;
            font-family: 'Playfair Display', serif; font-size: 1.1rem;
            outline: none; resize: none; text-align: center;
        }

        /* --- SECTION 2: LAUT (THE OCEAN) --- */
        #ocean-view {
            height: 100vh; background: linear-gradient(to bottom, #1e90ff, #000033);
            position: relative; overflow: auto; /* Bisa di-scroll/drag */
        }

        .ocean-bed {
            width: 2000px; height: 2000px; /* Area luas untuk eksplorasi */
            position: relative;
        }

        .bottle-item {
            position: absolute; width: 50px; height: 30px;
            background: rgba(255,255,255,0.3); border: 1px solid gold;
            border-radius: 20px 5px 5px 20px; cursor: pointer;
            display: flex; align-items: center; justify-content: center;
            font-size: 10px; color: white; animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0); }
            50% { transform: translateY(-15px) rotate(5deg); }
        }

        /* --- ANIMASI LEMPAR --- */
        .flying-bottle {
            position: absolute; z-index: 99; width: 30px; height: 15px;
            background: gold; border-radius: 10px; pointer-events: none;
        }
    </style>
</head>
<body>

    <nav>
        <div class="nav-btn active" id="btn-island" onclick="goTo('island')">Pulau</div>
        <div class="nav-btn" id="btn-ocean" onclick="goTo('ocean')">Laut Luas</div>
    </nav>

    <div id="main-stage">
        <section id="island-view">
            <div class="island-sand"></div>
            
            <div class="paper-ui" id="paper">
                <p style="color: #666; font-size: 0.7rem; margin-bottom: 10px;">TULIS PESAN RAHASIA</p>
                <textarea id="wishContent" rows="4" placeholder="Ketik di sini..."></textarea>
                <button onclick="animateThrow()" style="margin-top: 20px; background: #333; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">Masukan Botol & Lempar!</button>
            </div>

            <div class="character" id="walker"></div>
        </section>

        <section id="ocean-view">
            <div class="ocean-bed" id="oceanBed">
                </div>
        </section>
    </div>

    <script>
        const stage = document.getElementById('main-stage');
        const walker = document.getElementById('walker');
        const paper = document.getElementById('paper');
        const oceanBed = document.getElementById('oceanBed');
        const badWords = ["anjing", "babi", "bangsat", "goblok"];

        // 1. PINDAH VIEW
        function goTo(view) {
            if(view === 'island') {
                stage.style.transform = "translateY(0)";
                document.getElementById('btn-island').classList.add('active');
                document.getElementById('btn-ocean').classList.remove('active');
            } else {
                stage.style.transform = "translateY(-100vh)";
                document.getElementById('btn-ocean').classList.add('active');
                document.getElementById('btn-island').classList.remove('active');
                generateOceanBottles();
            }
        }

        // 2. ANIMASI ORANG DATANG & LEMPAR
        function animateThrow() {
            const content = document.getElementById('wishContent').value;
            if(!content) return;
            
            // Filter
            if(badWords.some(w => content.toLowerCase().includes(w))) {
                alert("Lautan menolak pesan kasar!"); return;
            }

            // Sembunyikan Kertas
            paper.style.transform = "translateY(-500px)";

            // Orang Jalan Datang
            gsap.to(walker, { left: "45%", duration: 1.5, ease: "power2.out", onComplete: () => {
                // Animasi Lempar
                createFlyingBottle();
            }});
        }

        function createFlyingBottle() {
            const bot = document.createElement('div');
            bot.className = 'flying-bottle';
            bot.style.left = "48%";
            bot.style.bottom = "30vh";
            document.getElementById('island-view').appendChild(bot);

            // Gerakan Parabola ke arah Laut (Bawah)
            gsap.to(bot, {
                duration: 1.5,
                x: 300,
                y: 500,
                rotation: 720,
                ease: "power1.in",
                onComplete: () => {
                    bot.remove();
                    gsap.to(walker, { left: "110%", duration: 1.5 }); // Orang pergi
                    alert("Botolmu telah hanyut ke lautan luas...");
                    setTimeout(() => {
                        paper.style.transform = "translateY(0)";
                        document.getElementById('wishContent').value = "";
                        goTo('ocean');
                    }, 1000);
                }
            });
        }

        // 3. GENERATE LAUTAN LUAS (Realistik)
        function generateOceanBottles() {
            oceanBed.innerHTML = ""; // Refresh
            for(let i = 0; i < 30; i++) {
                const b = document.createElement('div');
                b.className = 'bottle-item';
                // Acak posisi di area 2000x2000
                b.style.left = Math.random() * 1800 + "px";
                b.style.top = Math.random() * 1800 + "px";
                
                // Variasi warna (permukaan terang, dasar gelap)
                const opacity = 1 - (parseInt(b.style.top) / 2000);
                b.style.opacity = opacity + 0.2;
                
                b.innerText = "✉️";
                b.onclick = () => alert("Pesan Seseorang: [Isi Rahasia]");
                oceanBed.appendChild(b);
            }
        }
    </script>
</body>
</html>
