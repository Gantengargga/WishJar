<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ocean of Whispers | Pesan di Dalam Botol</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Quicksand:wght@300;500&family=Playfair+Display:ital,wght@1,400&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --sea: #0a192f;
            --water: #112240;
            --gold: #d4af37;
            --sand: #c2b280;
        }

        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            overflow: hidden; background: var(--sea);
            font-family: 'Quicksand', sans-serif; color: white;
        }

        /* --- LAUTAN --- */
        .ocean {
            position: relative; width: 100%; height: 100vh;
            background: linear-gradient(180deg, #0f172a 0%, #020617 100%);
            overflow: hidden;
        }

        /* Efek Ombak Lembut */
        .wave {
            position: absolute; bottom: 0; left: 0; width: 200%; height: 100px;
            background: url('https://raw.githubusercontent.com/yusufshakeel/svg-icon/master/svg/wave.svg');
            background-size: 50% 100px;
            opacity: 0.1;
            animation: waveAnim 20s linear infinite;
        }

        @keyframes waveAnim {
            from { transform: translateX(0); }
            to { transform: translateX(-50%); }
        }

        header {
            position: absolute; top: 30px; width: 100%; text-align: center;
            z-index: 10; pointer-events: none;
        }
        .logo { font-family: 'Dancing Script', cursive; font-size: 2.5rem; color: var(--gold); margin: 0; }
        .sub { font-family: 'Playfair Display', serif; font-style: italic; opacity: 0.5; font-size: 0.8rem; letter-spacing: 2px; }

        /* --- BOTOL HANYUT --- */
        .bottle {
            position: absolute; width: 40px; height: 70px;
            background: rgba(212, 175, 55, 0.2);
            border: 2px solid rgba(212, 175, 55, 0.4);
            border-radius: 10px 10px 20px 20px;
            cursor: pointer;
            transition: 0.3s;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 0 15px rgba(212, 175, 55, 0.2);
        }

        .bottle::before { /* Tutup Gabus */
            content: ''; position: absolute; top: -10px; width: 15px; height: 12px;
            background: #5d4037; border-radius: 3px;
        }

        .bottle:hover { transform: scale(1.2) rotate(10deg); filter: brightness(1.5); }

        /* Animasi Hanyut */
        @keyframes drift {
            from { left: -100px; transform: rotate(-5deg); }
            to { left: 110%; transform: rotate(5deg); }
        }

        /* --- POPUP PESAN --- */
        #modal {
            position: fixed; inset: 0; background: rgba(0,0,0,0.85);
            display: none; align-items: center; justify-content: center; z-index: 100;
            backdrop-filter: blur(10px);
        }

        .modal-content {
            background: #fff; color: #333; padding: 40px; width: 80%; max-width: 400px;
            border-radius: 5px; box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            font-family: 'Playfair Display', serif; text-align: center;
            position: relative; line-height: 1.6;
            background-image: url('https://www.transparenttextures.com/patterns/paper-fibers.png');
        }

        .close-btn { 
            margin-top: 20px; cursor: pointer; color: var(--gold); 
            font-weight: bold; font-size: 0.8rem; text-transform: uppercase;
        }

        /* --- INPUT UI --- */
        .controls {
            position: absolute; bottom: 40px; left: 50%; transform: translateX(-50%);
            z-index: 50; width: 90%; max-width: 400px; text-align: center;
        }

        input {
            width: 100%; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.2);
            padding: 15px; border-radius: 30px; color: white; outline: none;
            text-align: center; font-family: inherit; margin-bottom: 15px;
        }

        .btn-send {
            background: var(--gold); color: #111; border: none;
            padding: 12px 30px; border-radius: 50px; font-weight: bold; cursor: pointer;
        }
    </style>
</head>
<body>

    <div class="ocean" id="ocean">
        <header>
            <h1 class="logo">Ocean of Whispers</h1>
            <p class="sub">Hanyutkan harapan, temukan takdir.</p>
        </header>

        <div class="wave" style="bottom: 0; opacity: 0.1;"></div>
        <div class="wave" style="bottom: 20px; opacity: 0.05; animation-delay: -5s;"></div>
    </div>

    <div class="controls">
        <input type="text" id="wishInput" placeholder="Tulis rahasia atau harapanmu...">
        <button class="btn-send" onclick="sendBottle()">Hanyutkan Botol âœ¨</button>
    </div>

    <div id="modal" onclick="closeModal()">
        <div class="modal-content" onclick="event.stopPropagation()">
            <p id="wishText">"Semoga kita selalu bahagia..."</p>
            <div class="close-btn" onclick="closeModal()">Tutup Pesan</div>
        </div>
    </div>

    <script>
        const ocean = document.getElementById('ocean');
        const badWords = ["anjing", "babi", "bangsat", "tolol", "goblok", "kontol", "memek"];
        
        // Database lokal sementara (Simulasi botol orang lain)
        let publicWishes = [
            "Semoga dia tahu kalau aku masih sayang.",
            "Besok ujian, semoga lancar ya Tuhan!",
            "Aku baru saja melihat bintang jatuh di Bali.",
            "Tahun 2026 ini aku harus sukses!",
            "Halo asing, semoga harimu menyenangkan."
        ];

        function sendBottle() {
            const input = document.getElementById('wishInput');
            let text = input.value.trim();

            if (text === "") return;

            const isToxic = badWords.some(word => text.toLowerCase().includes(word));
            if (isToxic) {
                alert("Lautan menolak kata-kata kasar. Gunakan bahasa yang baik.");
                return;
            }

            // Tambahkan ke daftar botol yang hanyut
            spawnBottle(text, true);
            input.value = "";
        }

        function spawnBottle(text, isUser = false) {
            const bottle = document.createElement('div');
            bottle.className = 'bottle';
            
            // Posisi vertical acak di area laut
            const randomTop = 30 + Math.random() * 50; 
            bottle.style.top = `${randomTop}%`;
            
            // Kecepatan hanyut acak
            const duration = 15 + Math.random() * 20;
            bottle.style.animation = `drift ${duration}s linear forwards`;

            bottle.onclick = () => openBottle(text);

            ocean.appendChild(bottle);

            // Hapus botol setelah sampai ujung
            setTimeout(() => bottle.remove(), duration * 1000);
        }

        function openBottle(text) {
            document.getElementById('wishText').innerText = `"${text}"`;
            document.getElementById('modal').style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('modal').style.display = 'none';
        }

        // Munculkan botol "orang lain" secara otomatis setiap beberapa detik
        setInterval(() => {
            const randomWish = publicWishes[Math.floor(Math.random() * publicWishes.length)];
            spawnBottle(randomWish);
        }, 5000);

        // Munculkan beberapa di awal
        window.onload = () => {
            publicWishes.forEach((w, i) => {
                setTimeout(() => spawnBottle(w), i * 2000);
            });
        };
    </script>
</body>
</html>
